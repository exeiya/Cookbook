(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{267:function(e,t,n){e.exports=n(463)},463:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(48),l=n.n(i),c=n(77),u=n(19),o=n(232),s=n(24),m=n(65),p=n(474),d=n(257),f=n(45),E=n(13),g=n.n(E),v=n(17),h=n(22),k=n(23),b=n(90),y=n.n(b),j=n(49),w=n(475),O=n(255),x=n(160),C=n(464),R=n(471),I=n(472),T=function(e){var t=e.ingredients,n=e.setIngredients,a=e.errors,i=e.setErrors,l=function(e){return function(r){var l=r.target;n(t.map(function(t){return t.id===l.name?Object(h.a)({},t,Object(f.a)({},e,l.value)):t})),i(Object(h.a)({},a,{ingredientIds:a.ingredientIds.filter(function(e){return e!==l.name}),ingredients:null}))}},c=t.map(function(e){var c,u=a.ingredientIds.includes(e.id)&&!0;return r.a.createElement("tr",{key:e.id},r.a.createElement("td",null,r.a.createElement(w.a.Field,{error:u},r.a.createElement("input",{value:e.name,name:e.id,onChange:l("name"),placeholder:"Ainesosan nimi"}))),r.a.createElement("td",null,r.a.createElement(w.a.Field,{error:u},r.a.createElement("input",{value:e.amount,name:e.id,onChange:l("amount"),placeholder:"Ainesosan m\xe4\xe4r\xe4"}))),r.a.createElement("td",null,t.length>1?r.a.createElement(C.a,{basic:!0,color:"orange",type:"button",onClick:(c=e.id,function(){n(t.filter(function(e){return e.id!==c})),i(Object(h.a)({},a,{ingredientIds:a.ingredientIds.filter(function(e){return e!==c}),ingredients:null}))})},r.a.createElement("span",{style:{fontWeight:"bold"}},"Poista")):null))});return r.a.createElement(w.a.Group,{grouped:!0},r.a.createElement("table",null,r.a.createElement("tbody",null,c.length>0?r.a.createElement("tr",null,r.a.createElement("th",null,"Ainesosa"),r.a.createElement("th",null,"M\xe4\xe4r\xe4")):null,c)),a.ingredients&&r.a.createElement("div",{style:{paddingBottom:"10px"}},r.a.createElement(j.a,{color:"yellow",name:"exclamation triangle"})," ",a.ingredients),r.a.createElement(C.a,{type:"button",onClick:function(e){e.preventDefault(),n(t.concat({id:y.a.generate(),name:"",amount:""}))},color:"teal",style:{marginBottom:"10px"}},"Lis\xe4\xe4 uusi ainesosa"))},S=Object(m.e)(function(e){var t=Object(a.useState)(e.values?Object(h.a)({},e.values,{cookingTime:e.values.cookingTime?e.values.cookingTime.split(" ")[0]:null,cookingTimeUnit:e.values.cookingTime?e.values.cookingTime.split(" ")[1]:null}):{title:"",instructions:""}),n=Object(k.a)(t,2),i=n[0],l=n[1],c=Object(a.useState)(e.values?e.values.ingredients.map(function(e){return Object(h.a)({},e,{id:y.a.generate()})}):[{id:y.a.generate(),name:"",amount:""}]),u=Object(k.a)(c,2),o=u[0],s=u[1],m=Object(a.useState)(),p=Object(k.a)(m,2),E=p[0],b=p[1],S=Object(a.useState)({ingredientIds:[]}),U=Object(k.a)(S,2),A=U[0],L=U[1],_=Object(a.useState)(!1),P=Object(k.a)(_,2),D=P[0],M=P[1],K=[{key:"minute",value:"minuuttia",text:"minuuttia"},{key:"hour",value:"tuntia",text:"tuntia"}],N=function(){var e=Object(h.a)({},A);i.title.length<3&&(e.title="Reseptin nimen tulee olla v\xe4hint\xe4\xe4n 3 merkin pituinen"),0===i.instructions.length&&(e.instructions="Reseptill\xe4 t\xe4ytyy olla ohje"),i.category||(e.category="Valitse reseptille kategoria"),E&&E.file.size>1e6?e.image="Kuvan koko voi olla enint\xe4\xe4n 1 MB":E&&!["image/jpg","image/png","image/gif","image/jpeg"].includes(E.file.type)&&(e.image="Vain tietyt kuvatiedostot ovat tuettuja (jpg, jpeg, png, gif)"),o.forEach(function(t){var n=e.ingredientIds.includes(t.id);0===t.name.length?(n||e.ingredientIds.push(t.id),e.ingredients="Ainesosilla t\xe4ytyy olla nimi"):t.name.length>0&&n&&(e.ingredientIds=e.ingredientIds.filter(function(e){return e!==t.id}))}),L(e);var t=!0;return Object.entries(e).forEach(function(e){var n=Object(k.a)(e,2),a=n[0],r=n[1];"ingredientIds"!==a?r&&(t=!1):r.length>0&&(t=!1)}),t},F=function(){var t=Object(v.a)(g.a.mark(function t(n){var a,r,l;return g.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),a=Object(h.a)({},i,{ingredients:o.map(function(e){return{name:e.name,amount:e.amount}})}),i.cookingTime&&(a.cookingTime="".concat(i.cookingTime," ").concat(i.cookingTimeUnit||K[0].value)),!N()){t.next=16;break}if(M(!0),E?((r=new FormData).append("image",E.file),r.append("recipe",JSON.stringify(a))):r=a,!e.values){t.next=12;break}return t.next=9,e.onSubmit(r,e.values.id);case 9:l=t.sent,t.next=15;break;case 12:return t.next=14,e.onSubmit(r);case 14:l=t.sent;case 15:l?e.history.push(e.redirectPathOnSubmit):M(!1);case 16:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),z=function(e){l(Object(h.a)({},i,Object(f.a)({},e.name,e.value))),L(Object(h.a)({},A,Object(f.a)({},e.name,null)))},H=function(e){return A[e]?r.a.createElement("div",{style:{padding:"5px"}},r.a.createElement(j.a,{color:"yellow",name:"exclamation triangle"}),A[e]):null},B=function(){b(null),i.img&&l(Object(h.a)({},i,{img:null}))};return r.a.createElement(d.a.Row,{columns:1,centered:!0},r.a.createElement(d.a.Column,{width:12},r.a.createElement(w.a,{onSubmit:F,noValidate:!0},r.a.createElement(d.a,{stackable:!0},r.a.createElement(d.a.Row,{columns:2},r.a.createElement(d.a.Column,{width:10},r.a.createElement(w.a.Field,{width:8,error:A.title&&!0},r.a.createElement("label",null,"Reseptin nimi"),A.title&&H("title"),r.a.createElement("input",{onChange:function(e){var t=e.target;return z(t)},name:"title",value:i.title,placeholder:"Reseptin nimi",required:!0})),r.a.createElement(T,{ingredients:o,setIngredients:s,errors:A,setErrors:L})),r.a.createElement(d.a.Column,{width:6},function(){var e=null;return!E&&i.img?e=i.img.url:E&&(e=E.preview),r.a.createElement(w.a.Field,{error:A.image&&!0},r.a.createElement("label",null,"Kuva ",A.image&&H("image")),r.a.createElement("label",{htmlFor:"image",style:{maxWidth:"200px",cursor:"pointer"}},e?r.a.createElement(O.a,{bordered:!0,rounded:!0,src:e,size:"medium",style:{maxWidth:"200px",maxHeight:"200px"}}):r.a.createElement(x.a,null,r.a.createElement(j.a,{name:"upload"})," Lataa kuva")),r.a.createElement("input",{style:{opacity:0,position:"absolute",zIndex:-1},id:"image",type:"file",name:"image",accept:"image/*",onChange:function(e){return function(e){var t=e.files[0];if(L(Object(h.a)({},A,{image:null})),!t)return b(null);b({file:t,name:t.name,preview:URL.createObjectURL(t)})}(e.target)}}),e?r.a.createElement(C.a,{color:"red",content:"Poista kuva",icon:"trash alternate",type:"button",style:{marginTop:"5px",marginLeft:"10%"},onClick:B}):null)}()))),r.a.createElement(w.a.Group,null,r.a.createElement(w.a.Field,{width:4,error:A.servings&&!0},r.a.createElement("label",null,"Annosm\xe4\xe4r\xe4"),r.a.createElement(R.a,{onChange:function(e){var t=e.target;return z(t)},name:"servings",label:{basic:!0,content:"annosta"},labelPosition:"right",type:"number",min:"0",value:i.servings||""})),r.a.createElement(w.a.Field,{width:4,error:A.cookingTime&&!0},r.a.createElement("label",null,"Valmistusaika"),r.a.createElement(R.a,{onChange:function(e){var t=e.target;return z(t)},name:"cookingTime",type:"number",min:"0",value:i.cookingTime||"",action:!0},r.a.createElement("input",null),r.a.createElement(I.a,{compact:!0,options:K,defaultValue:K[0].value,name:"cookingTimeUnit",onChange:function(e,t){return z(t)}}))),r.a.createElement(w.a.Select,{onChange:function(e,t){var n=t.value;return l(Object(h.a)({},i,{category:n}))},onClick:function(){return L(Object(h.a)({},A,{category:null}))},error:A.category&&!0,width:4,name:"category",fluid:!0,label:"Reseptin tyyppi",placeholder:"Reseptin tyyppi",defaultValue:i.category,options:[{key:"dinner",value:"p\xe4\xe4ruoka",text:"P\xe4\xe4ruoka"},{key:"dessert",value:"j\xe4lkiruoka",text:"J\xe4lkiruoka"},{key:"salad",value:"salaatti",text:"Salaatti"},{key:"other",value:"muu",text:"Muu"}]})),A.servings&&H("servings"),A.cookingTime&&H("cookingTime"),A.category&&H("category"),r.a.createElement(w.a.Field,{error:A.instructions&&!0},r.a.createElement("label",null,"Ohjeet"),A.instructions&&H("instructions"),r.a.createElement("textarea",{onChange:function(e){var t=e.target;return z(t)},name:"instructions",value:i.instructions,placeholder:"Kirjoita reseptin ohje t\xe4h\xe4n",required:!0})),r.a.createElement("div",{style:{textAlign:"center"}},e.submitButton,r.a.createElement(C.a,{positive:!0,disabled:D,loading:D,content:e.submitButtonText})))))}),U=n(76),A=n(36),L=n.n(A),_="/api/recipes",P=null,D={getAll:function(){var e=Object(v.a)(g.a.mark(function e(){var t;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L.a.get(_);case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),create:function(){var e=Object(v.a)(g.a.mark(function e(t){var n,a;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n={headers:{Authorization:P}},e.next=3,L.a.post(_,t,n);case 3:return a=e.sent,e.abrupt("return",a.data);case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),likeRecipe:function(){var e=Object(v.a)(g.a.mark(function e(t){var n,a;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n={headers:{Authorization:P}},e.next=3,L.a.patch("".concat(_,"/").concat(t.id),{likes:(t.likes||0)+1},n);case 3:return a=e.sent,e.abrupt("return",a.data);case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),setToken:function(e){P="Bearer ".concat(e)},addComment:function(){var e=Object(v.a)(g.a.mark(function e(t,n){var a,r;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{Authorization:P}},e.next=3,L.a.post("".concat(_,"/").concat(t.id,"/comments"),{comment:n},a);case 3:return r=e.sent,e.abrupt("return",r.data);case 5:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),removeRecipe:function(){var e=Object(v.a)(g.a.mark(function e(t){var n,a;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n={headers:{Authorization:P}},e.next=3,L.a.delete("".concat(_,"/").concat(t),n);case 3:return a=e.sent,e.abrupt("return",a.data);case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),update:function(){var e=Object(v.a)(g.a.mark(function e(t,n){var a,r;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{Authorization:P}},e.next=3,L.a.put("".concat(_,"/").concat(n),t,a);case 3:return r=e.sent,e.abrupt("return",r.data);case 5:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}()},M=function(e,t){return function(n){n(function(e,t){return{type:"SET_NOTIFICATION",msg:e,notifType:t}}(e,t)),setTimeout(function(){return n({type:"REMOVE_NOTIFICATION"})},5e3)}},K=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_NOTIFICATION":return{msg:t.msg,notifType:t.notifType};case"REMOVE_NOTIFICATION":return null;default:return e}},N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INIT_RECIPES":return t.data;case"ADD_RECIPE":return[].concat(Object(U.a)(e),[t.data]);case"LIKE_RECIPE":var n=t.data;return e.map(function(e){return e.id===n.id?n:e});case"ADD_COMMENT":var a=t.data;return e.map(function(e){return e.id===a.id?Object(h.a)({},a,{comments:a.comments}):e});case"REMOVE_RECIPE":var r=t.data;return e.filter(function(e){return e.id!==r.id});case"UPDATE_RECIPE":var i=t.data;return e.map(function(e){return e.id===i.id?i:e});default:return e}},F=Object(u.b)(null,{addRecipe:function(e){return function(){var t=Object(v.a)(g.a.mark(function t(n){var a;return g.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,D.create(e);case 3:return a=t.sent,n({type:"ADD_RECIPE",data:a}),n(M("Uusi resepti '".concat(a.title,"' lis\xe4tty!"),"success")),t.abrupt("return",!0);case 9:return t.prev=9,t.t0=t.catch(0),console.log(t.t0),n(M("Virhe reseptin luonnissa! Uutta resepti\xe4 ei luotu.","error")),t.abrupt("return",!1);case 14:case"end":return t.stop()}},t,null,[[0,9]])}));return function(e){return t.apply(this,arguments)}}()}})(function(e){return r.a.createElement(d.a,null,r.a.createElement(d.a.Row,{columns:1},r.a.createElement(d.a.Column,null,r.a.createElement("div",{style:{textAlign:"center"}},r.a.createElement("h2",null,"Luo uusi resepti")))),r.a.createElement(S,{onSubmit:e.addRecipe,submitButtonText:"Lis\xe4\xe4 resepti",redirectPathOnSubmit:"/"}))}),z=Object(u.b)(function(e){return{loggedUser:e.loggedUser}},{updateRecipe:function(e,t){return function(){var n=Object(v.a)(g.a.mark(function n(a){var r;return g.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,D.update(e,t);case 3:return r=n.sent,a({type:"UPDATE_RECIPE",data:r}),a(M("Reseptin ".concat(r.title," muutokset tallennettu!"),"success")),n.abrupt("return",!0);case 9:return n.prev=9,n.t0=n.catch(0),console.log(n.t0),a(M("Reseptin muokkaaminen ei onnistunut, muutoksia ei tallennettu","error")),n.abrupt("return",!1);case 14:case"end":return n.stop()}},n,null,[[0,9]])}));return function(e){return n.apply(this,arguments)}}()}})(Object(m.e)(function(e){var t=e.recipe,n=e.updateRecipe,a=e.loggedUser,i=e.history;return t?a&&t.user&&t.user.id===a.id?r.a.createElement(d.a,null,r.a.createElement(d.a.Row,{columns:1},r.a.createElement(d.a.Column,null,r.a.createElement("div",{style:{textAlign:"center"}},r.a.createElement("h2",null,"Muokkaa resepti\xe4")))),r.a.createElement(S,{onSubmit:n,values:t,submitButtonText:"Tallenna muutokset",redirectPathOnSubmit:"/recipes/".concat(t.id)}),r.a.createElement(d.a.Row,{columns:1},r.a.createElement(d.a.Column,null,r.a.createElement("div",{style:{textAlign:"center"}},r.a.createElement(C.a,{content:"Takaisin reseptiin",onClick:function(){return i.goBack()}}))))):r.a.createElement(m.a,{to:"/recipes"}):null})),H=n(480),B=n(92),V=n(94),G=n(75),J=n.n(G),W=Object(u.b)(function(e){return{recipes:e.recipes,loggedUser:e.loggedUser}})(Object(m.e)(function(e){var t=e.history,n=e.recipes,i=e.loggedUser,l=Object(a.useState)(""),c=Object(k.a)(l,2),u=c[0],o=c[1],m=Object(a.useState)(null),p=Object(k.a)(m,2),f=p[0],E=p[1],g=u?n.filter(function(e){return e.title.toLowerCase().includes(u.toLowerCase())}):n,v={position:"absolute",zIndex:1,width:"92%",textAlign:"right",margin:"10px",color:"black"},h=function(e){return"title"===f?e.sort(function(e,t){var n=e.title.toLowerCase(),a=t.title.toLowerCase();return n>a?1:n<a?-1:0}):"likes"===f?e.sort(function(e,t){return t.likes-e.likes}):"newest"===f&&e.sort(function(e,t){return new Date(t.date)-new Date(e.date)}),e}(g).map(function(e){return r.a.createElement(d.a.Column,{key:e.id},r.a.createElement(H.a,{as:s.b,to:"/recipes/".concat(e.id),color:"teal",style:{minHeight:"230px"}},r.a.createElement("div",{style:v},r.a.createElement(B.a,{size:"large",style:{backgroundColor:"rgba(232, 232, 232, 0.8)"}},r.a.createElement(j.a,{name:"heart",color:"red"}),e.likes||0)),r.a.createElement(O.a,{src:e.img&&e.img.url?e.img.url:J.a,style:{maxHeight:"200px"}}),r.a.createElement(H.a.Content,null,r.a.createElement(H.a.Header,null,e.title))))}),b=r.a.createElement(d.a.Row,{centered:!0,columns:1,stretched:!0},r.a.createElement(d.a.Column,{width:3},r.a.createElement(C.a,{color:"teal",onClick:function(){return t.push({pathname:"/users/".concat(i.id),state:{tab:0}})}},r.a.createElement(j.a,{name:"book"})," Omat reseptit")),r.a.createElement(d.a.Column,{width:3},r.a.createElement(C.a,{color:"orange",onClick:function(){return t.push({pathname:"/users/".concat(i.id),state:{tab:1}})}},r.a.createElement(j.a,{name:"star"}),"Suosikit")),r.a.createElement(d.a.Column,{width:3},r.a.createElement(C.a,{as:s.b,to:"/recipes/create",color:"green"},r.a.createElement(j.a,{name:"plus"}),"Luo uusi resepti")));return r.a.createElement(d.a,null,null===i?null:b,r.a.createElement(d.a.Row,{centered:!0,columns:1},r.a.createElement(d.a.Column,{textAlign:"center",width:14},r.a.createElement("h3",null,"Hae reseptej\xe4"),r.a.createElement(R.a,{icon:"search",onChange:function(e){var t=e.target;return o(t.value)},value:u}),r.a.createElement("div",{style:{textAlign:"right"}},r.a.createElement(j.a,{name:"sort alphabet down"}),r.a.createElement(V.a,{inline:!0,header:"J\xe4rjest\xe4 reseptit",options:[{key:"title",text:"Nimen mukaan",value:"title"},{key:"likes",text:"Eniten tykk\xe4yksi\xe4",value:"likes"},{key:"newest",text:"Viimeksi lis\xe4tyt",value:"newest"}],placeholder:"J\xe4rjest\xe4 reseptit",onChange:function(e,t){return E(t.value)}})))),r.a.createElement(d.a.Row,{centered:!0,columns:3},r.a.createElement(d.a.Column,null),r.a.createElement(d.a.Column,{width:14},r.a.createElement(d.a,{stackable:!0,doubling:!0,columns:3},h)),r.a.createElement(d.a.Column,null)))})),Z=n(476),q=n(479),$=n(477),Q=n(483),X=function(){return function(e){e({type:"OPEN_LOGIN_MODAL"})}},Y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;switch((arguments.length>1?arguments[1]:void 0).type){case"OPEN_LOGIN_MODAL":return!0;case"CLOSE_LOGIN_MODAL":return!1;default:return e}},ee=Object(u.b)(function(e){return{loggedUser:e.loggedUser}},{addComment:function(e,t){return function(){var n=Object(v.a)(g.a.mark(function n(a){var r;return g.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,D.addComment(e,t);case 2:r=n.sent,a({type:"ADD_COMMENT",data:r});case 4:case"end":return n.stop()}},n)}));return function(e){return n.apply(this,arguments)}}()},notify:M,openLoginModal:X})(function(e){var t=e.recipe,n=e.loggedUser,i=e.addComment,l=e.notify,c=e.openLoginModal,u=Object(a.useState)(""),o=Object(k.a)(u,2),m=o[0],p=o[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement($.a.Group,{style:{minWidth:"80%",marginTop:"50px"}},r.a.createElement(Q.a,{dividing:!0},"Kommentit"),t.comments&&0!==t.comments.length?t.comments.map(function(e,t){return function(e,t){var n=e%2===0?"#ffffff":"#e8fefe";return r.a.createElement($.a,{key:t._id,style:{padding:"20px",backgroundColor:n}},r.a.createElement($.a.Content,null,r.a.createElement(j.a,{name:"user"}),r.a.createElement($.a.Author,{as:s.b,to:"/users/".concat(t.user.id)},t.user.username),r.a.createElement($.a.Metadata,null,new Date(t.date).toLocaleString()),r.a.createElement($.a.Text,null,t.content)))}(t,e)}):r.a.createElement("div",{style:{padding:"20px"}},"T\xe4ll\xe4 reseptill\xe4 ei ole viel\xe4 kommentteja."),n?r.a.createElement(w.a,null,r.a.createElement("textarea",{value:m,style:{marginTop:"30px",marginBottom:"15px"},onChange:function(e){var t=e.target;return p(t.value)}}),r.a.createElement(C.a,{icon:"edit",content:"Lis\xe4\xe4 kommentti",color:"teal",labelPosition:"left",onClick:function(){var e=Object(v.a)(g.a.mark(function e(n){return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),0!==m.length){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,e.next=6,i(t,m);case 6:p(""),e.next=14;break;case 9:e.prev=9,e.t0=e.catch(3),console.log(e.t0),l("Jotain meni vikaan. Uutta kommenttia ei luotu.","error"),window.scrollTo(0,0);case 14:case"end":return e.stop()}},e,null,[[3,9]])}));return function(t){return e.apply(this,arguments)}}()})):r.a.createElement("div",{style:{marginTop:"30px",marginBottom:"20px"}},"Haluatko j\xe4tt\xe4\xe4 kommentin?",r.a.createElement("span",{onClick:function(){return c()},style:{color:"#4183c4",cursor:"pointer"}}," Kirjaudu sis\xe4\xe4n."))))}),te=null,ne={getAll:function(){var e=Object(v.a)(g.a.mark(function e(){var t;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L.a.get("/api/users");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),create:function(){var e=Object(v.a)(g.a.mark(function e(t){var n;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L.a.post("/api/users",t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),updateFavoriteRecipes:function(){var e=Object(v.a)(g.a.mark(function e(t,n){var a,r;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{Authorization:te}},e.next=3,L.a.patch("".concat("/api/users","/").concat(t),{favorite:n},a);case 3:return r=e.sent,e.abrupt("return",r.data);case 5:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),setToken:function(e){te="Bearer ".concat(e)}},ae=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INITIALIZE_USERS":return t.data;case"ADD_USER":return[].concat(Object(U.a)(e),[t.data]);case"UPDATE_USER":return e.map(function(e){return e.id!==t.data.id?e:t.data});case"ADD_RECIPE":var n=e.find(function(e){return e.id===t.data.user.id});if(!n)return e;var a=t.data,r=a.id,i=a.title,l=a.category,c=a.date,u=a.img,o=n.recipes.concat({id:r,title:i,category:l,date:c,img:u});return e.map(function(e){return e.id!==n.id?e:Object(h.a)({},n,{recipes:o})});case"UPDATE_RECIPE":var s=e.find(function(e){return e.id===t.data.user.id});if(!s)return e;var m=t.data,p=m.id,d=m.title,f=m.category,E=m.date,g=m.img,v=s.recipes.map(function(e){return e.id!==p?e:{id:p,title:d,category:f,date:E,img:g}});return e.map(function(e){return e.id!==s.id?e:Object(h.a)({},s,{recipes:v})});default:return e}},re=function(e,t,n){var a=null;if(e&&t&&n){var r=t.find(function(t){return t.id===e.id}),i=r?r.favoriteRecipes.map(function(e){return e.id}):null;a=i?i.includes(n.id):null}return a},ie=Object(u.b)(function(e,t){return{loggedUser:e.loggedUser,isFavorited:re(e.loggedUser,e.users,t.recipe)}},{likeRecipe:function(e){return function(){var t=Object(v.a)(g.a.mark(function t(n){var a;return g.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,D.likeRecipe(e);case 2:a=t.sent,n({type:"LIKE_RECIPE",data:a});case 4:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},favoriteRecipe:function(e,t){return function(){var n=Object(v.a)(g.a.mark(function n(a){var r;return g.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,ne.updateFavoriteRecipes(e,t);case 2:r=n.sent,a({type:"UPDATE_USER",data:r});case 4:case"end":return n.stop()}},n)}));return function(e){return n.apply(this,arguments)}}()},openLoginModal:X,removeRecipe:function(e){return function(){var t=Object(v.a)(g.a.mark(function t(n){return g.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,D.removeRecipe(e.id);case 2:n({type:"REMOVE_RECIPE",data:e});case 3:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},notify:M})(Object(m.e)(function(e){var t=Object(a.useState)(!1),n=Object(k.a)(t,2),i=n[0],l=n[1],c=e.recipe,u=e.likeRecipe,o=e.favoriteRecipe,m=e.loggedUser,p=e.isFavorited,f=e.openLoginModal,E=e.removeRecipe;if(!c)return null;var h=function(){return function(e){var t=e.target;m?"like"===t.name?u(c):"favorite"===t.name&&o(m.id,c.id):f()}},b=function(){var t=Object(v.a)(g.a.mark(function t(){return g.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,E(c);case 3:e.history.push("/recipes"),e.notify('Resepti "'.concat(c.title,'" poistettu'),"success"),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}},t,null,[[0,7]])}));return function(){return t.apply(this,arguments)}}();return r.a.createElement(d.a,{stackable:!0,padded:!0},r.a.createElement(Z.a,{size:"tiny",open:i,onClose:function(){return l(!1)}},r.a.createElement(Z.a.Header,null,"Poistetaanko resepti?"),r.a.createElement(Z.a.Content,null,r.a.createElement("p",null,"Haluatko varmasti poistaa reseptin",r.a.createElement("span",{style:{fontWeight:"bold"}}," ",c.title),"?"),r.a.createElement("p",null,"Resepti\xe4 ei voi palauttaa en\xe4\xe4 poistamisen j\xe4lkeen.")),r.a.createElement(Z.a.Actions,null,r.a.createElement(C.a,{onClick:function(){return l(!1)}},"Peruuta"),r.a.createElement(C.a,{color:"red",icon:"trash alternate",labelPosition:"left",content:"Poista resepti",onClick:b}))),r.a.createElement(d.a.Row,{columns:2},r.a.createElement(d.a.Column,{width:12},r.a.createElement("h3",null,c.title),c.user?r.a.createElement("div",null,r.a.createElement(j.a,{name:"user"}),r.a.createElement(s.b,{to:"/users/".concat(c.user.id)},c.user.username)):null),r.a.createElement(d.a.Column,{width:4},c.user&&m&&m.id===c.user.id?r.a.createElement(r.a.Fragment,null,r.a.createElement(C.a,{icon:"edit",color:"blue",labelPosition:"left",content:"Muokkaa resepti\xe4",onClick:function(){return e.history.push("/recipes/".concat(c.id,"/update"))}}),r.a.createElement("div",{style:{paddingTop:"5px"}},r.a.createElement(C.a,{icon:"trash alternate",color:"red",labelPosition:"left",content:"Poista resepti",onClick:function(){return l(!0)}}))):null)),r.a.createElement(d.a.Row,{columns:3},r.a.createElement(d.a.Column,{width:5},r.a.createElement(O.a,{src:c.img&&c.img.url?c.img.url:J.a,size:"medium",rounded:!0,style:{maxHeight:"240px"}})),r.a.createElement(d.a.Column,{verticalAlign:"bottom"},r.a.createElement(C.a,{as:"div",labelPosition:"left"},r.a.createElement(B.a,{as:"a",basic:!0,color:"red",pointing:"right"},r.a.createElement(j.a,{name:"heart"})," ",c.likes||0),r.a.createElement(C.a,{color:"red",name:"like",onClick:h()},"Tykk\xe4\xe4")),r.a.createElement("div",{style:{marginTop:"10px"}},r.a.createElement(C.a,{basic:p||!1,color:"orange",name:"favorite",onClick:h()},r.a.createElement(j.a,{name:"star"})," ",p?"Poista suosikeista":"Lis\xe4\xe4 suosikkeihin")),r.a.createElement("table",{style:{paddingTop:"20px",paddingBottom:"20px"}},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",{style:{paddingRight:"10px"}},r.a.createElement(j.a,{name:"clock outline"})," Valmistusaika"),r.a.createElement("td",null," ",c.cookingTime||"--")),r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement(j.a,{name:"utensils"})," Annosm\xe4\xe4r\xe4"),r.a.createElement("td",null,c.servings||"--")))),r.a.createElement(B.a,{color:"teal"},c.category))),r.a.createElement(d.a.Row,null,r.a.createElement(d.a.Column,{width:4},r.a.createElement(q.a,{unstackable:!0},r.a.createElement(q.a.Header,null,r.a.createElement(q.a.Row,null,r.a.createElement(q.a.HeaderCell,{colSpan:"2"},"Ainekset"))),r.a.createElement(q.a.Body,null,c.ingredients.map(function(e){return r.a.createElement(q.a.Row,{key:e.name},e.amount?r.a.createElement(q.a.Cell,null,e.amount):null,r.a.createElement(q.a.Cell,null,e.name))})))),r.a.createElement(d.a.Column,{width:8},r.a.createElement("h4",null,"Ohjeet"),r.a.createElement("p",{style:{whiteSpace:"pre-line"}},c.instructions))),r.a.createElement(d.a.Row,{columns:1},r.a.createElement(d.a.Column,{width:16,style:{marginTop:"20px"}},r.a.createElement(ee,{recipe:c}))))})),le=n(481),ce=Object(u.b)(function(e){return{notification:e.notification}})(function(e){return e.notification?"success"===e.notification.notifType?r.a.createElement(le.a,{color:"green"},e.notification.msg):"error"===e.notification.notifType?r.a.createElement(le.a,{color:"red"},e.notification.msg):r.a.createElement(le.a,null,e.notification.msg):null}),ue=function(e){var t=e.recipe;return t?r.a.createElement(d.a.Column,{key:t.id},r.a.createElement(H.a,{as:s.b,to:"/recipes/".concat(t.id),color:"teal",style:{minHeight:"210px"}},r.a.createElement(O.a,{src:t.img&&t.img.url?t.img.url:J.a,style:{maxHeight:"170px"}}),r.a.createElement(H.a.Content,null,r.a.createElement(H.a.Header,{style:{overflow:"hidden"}},t.title)))):null},oe=Object(u.b)(function(e){return{recipes:e.recipes}})(function(e){var t=e.recipes;return r.a.createElement(d.a,{padded:!0},r.a.createElement(d.a.Row,{columns:1},r.a.createElement(d.a.Column,{width:12},r.a.createElement("p",null,"Keittokirjassa t\xe4ll\xe4 hetkell\xe4 ",t.length," resepti\xe4!"))),r.a.createElement(d.a.Row,null,r.a.createElement(d.a.Column,null,r.a.createElement("h3",null,"Satunnaisia reseptej\xe4"))),r.a.createElement(d.a.Row,{style:{padding:0,margin:0}},r.a.createElement(d.a,{doubling:!0,columns:4,style:{padding:0,margin:0}},function(){if(0===t.length)return[];for(var e=[],n=0;n<4;n++){var a=Math.floor(Math.random()*t.length);e.includes(a)||e.push(a)}return e.map(function(e){return r.a.createElement(ue,{key:t[e].id,recipe:t[e]})})}())),r.a.createElement(d.a.Row,null,r.a.createElement(d.a.Column,null,r.a.createElement("h3",null,"Uusimmat reseptit"))),r.a.createElement(d.a.Row,{style:{padding:0,margin:0}},r.a.createElement(d.a,{doubling:!0,columns:4,style:{padding:0,margin:0}},function(){if(0===t.length)return[];for(var e=new Array(4),n=0;n<e.length&&n!==t.length;n++){var a=t[t.length-n-1];e[n]=r.a.createElement(ue,{key:a.id,recipe:a})}return e}())))}),se=n(256),me={login:function(){var e=Object(v.a)(g.a.mark(function e(t){var n;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L.a.post("/api/login",t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},pe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INIT_LOGGED_USER":case"LOGIN":return Object(h.a)({},t.user);case"LOGOUT":return null;default:return e}},de=Object(u.b)(function(e){return{loggedUser:e.loggedUser}},{openLoginModal:X,logout:function(){return function(e){window.localStorage.clear(),D.setToken(null),ne.setToken(null),e({type:"LOGOUT"})}}})(function(e){var t=r.a.createElement("span",{style:{minWidth:"90px"}},r.a.createElement(j.a,{name:"user circle"}),null===e.loggedUser?"":e.loggedUser.username),n={backgroundColor:"#00b5ad",color:"white",fontWeight:"bold",borderRadius:"0 0.28571429rem 0.28571429rem 0"};return r.a.createElement(se.a,null,r.a.createElement(se.a.Item,{as:s.b,to:"/",name:"etusivu"}),r.a.createElement(se.a.Item,{as:s.b,to:"/recipes",name:"reseptit"}),r.a.createElement(se.a.Item,{as:s.b,to:"/users",name:"kayttajat"},"K\xe4ytt\xe4j\xe4t"),r.a.createElement(se.a.Menu,{position:"right"},e.loggedUser?r.a.createElement(V.a,{style:n,item:!0,trigger:t},r.a.createElement(V.a.Menu,null,r.a.createElement(V.a.Item,{as:s.b,to:"/users/".concat(e.loggedUser.id)},"Oma profiili"),r.a.createElement(V.a.Item,{as:s.b,to:"/recipes/create"},"Luo uusi resepti"),r.a.createElement(V.a.Item,{onClick:function(){return e.logout()}},"Kirjaudu ulos"))):r.a.createElement(se.a.Item,{name:"login",onClick:function(){return e.openLoginModal()}},r.a.createElement(j.a,{name:"user circle outline"}),"Kirjaudu sis\xe4\xe4n")))}),fe=n(473),Ee=Object(u.b)(function(e){return{loginModal:e.loginModal}},{closeLoginModal:function(){return function(e){e({type:"CLOSE_LOGIN_MODAL"})}},login:function(e){return function(){var t=Object(v.a)(g.a.mark(function t(n){var a;return g.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,me.login(e);case 2:a=t.sent,window.localStorage.setItem("loggedCookbookUser",JSON.stringify(a)),D.setToken(a.token),ne.setToken(a.token),n({type:"LOGIN",user:{id:a.id,username:a.username}});case 7:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},notify:M})(Object(m.e)(function(e){var t=Object(a.useState)(),n=Object(k.a)(t,2),i=n[0],l=n[1],c=Object(a.useState)(),u=Object(k.a)(c,2),o=u[0],s=u[1],m=Object(a.useState)(""),p=Object(k.a)(m,2),d=p[0],f=p[1],E=function(){var e="";return i&&o||(e="Kirjoita k\xe4ytt\xe4j\xe4tunnus ja salasana kirjautuaksesi"),f(e),0===e.length},h=function(){var t=Object(v.a)(g.a.mark(function t(n){return g.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),!E()){t.next=16;break}return t.prev=2,t.next=5,e.login({username:i,password:o});case 5:l(""),s(""),e.closeLoginModal(),e.history.push("/"),e.notify("Tervetuloa ".concat(i,"!"),"success"),t.next=16;break;case 12:t.prev=12,t.t0=t.catch(2),console.log(t.t0),f("Wrong username or password");case 16:case"end":return t.stop()}},t,null,[[2,12]])}));return function(e){return t.apply(this,arguments)}}();return r.a.createElement(Z.a,{size:"tiny",open:e.loginModal,onClose:function(){e.closeLoginModal(),f("")}},r.a.createElement("div",{style:{padding:"40px"}},r.a.createElement("div",{style:{textAlign:"center",paddingBottom:"20px"}},r.a.createElement("h2",null,"Kirjaudu sis\xe4\xe4n")),0===d.length?null:r.a.createElement(le.a,{negative:!0},d),r.a.createElement(w.a,{onSubmit:h},r.a.createElement(w.a.Field,null,r.a.createElement("label",null,"K\xe4ytt\xe4j\xe4tunnus"),r.a.createElement(w.a.Input,{placeholder:"Kirjoita k\xe4ytt\xe4j\xe4tunnus",icon:"user",iconPosition:"left",onChange:function(e){var t=e.target;return l(t.value)}})),r.a.createElement(w.a.Field,null,r.a.createElement("label",null,"Salasana"),r.a.createElement(w.a.Input,{placeholder:"Kirjoita salasana",type:"password",icon:"lock",iconPosition:"left",onChange:function(e){var t=e.target;return s(t.value)}})),r.a.createElement("div",{style:{textAlign:"center",padding:"10px"}},r.a.createElement(C.a,{positive:!0},"Kirjaudu sis\xe4\xe4n"))),r.a.createElement(fe.a,null),r.a.createElement("div",{style:{textAlign:"center"}},r.a.createElement("p",null,"Ei k\xe4ytt\xe4j\xe4tunnusta?"),r.a.createElement(C.a,{icon:"signup",content:"Luo uusi k\xe4ytt\xe4j\xe4tunnus",onClick:function(){e.closeLoginModal(),e.history.push("/signup")}}))))})),ge=function(e){var t=e.user;return t?r.a.createElement(H.a,{color:"teal",as:s.b,to:"/users/".concat(t.id),style:{textAlign:"center"}},r.a.createElement(H.a.Content,null,r.a.createElement(H.a.Header,null,r.a.createElement(j.a,{name:"user outline"}),t.username))):null},ve=Object(u.b)(function(e){return{users:e.users}})(function(e){var t=e.users,n=Object(a.useState)(""),i=Object(k.a)(n,2),l=i[0],c=i[1],u=Object(a.useState)([]),o=Object(k.a)(u,2),s=o[0],m=o[1];return r.a.createElement(d.a,{padded:!0},r.a.createElement(d.a.Row,null,r.a.createElement(d.a.Column,null,r.a.createElement("h2",null,"K\xe4ytt\xe4j\xe4t"),r.a.createElement(fe.a,null),r.a.createElement("div",{style:{textAlign:"center",marginBottom:"20px"}},r.a.createElement("h3",null,"Hae k\xe4ytt\xe4ji\xe4"),r.a.createElement("p",null,'Hae k\xe4ytt\xe4ji\xe4 kirjoittamalla k\xe4ytt\xe4j\xe4tunnus tai sen osa ja klikkaa "Hae".'),r.a.createElement(R.a,{icon:"search",iconPosition:"left",placeholder:"Kirjoita k\xe4ytt\xe4j\xe4tunnus",value:l,style:{marginBottom:"20px"},onChange:function(e){var t=e.target;return c(t.value)},action:r.a.createElement(C.a,{onClick:function(){return function(){var e=l.length>0?t.filter(function(e){return e.username.toLowerCase().includes(l)}):[];m(e)}()}},"Hae")}),0===s.length?"":r.a.createElement("p",{style:{fontSize:"16px",fontWeight:"bold"}},'K\xe4ytt\xe4j\xe4t hakusanalla "',l,'"'),r.a.createElement(H.a.Group,{centered:!0},s.map(function(e){return r.a.createElement(ge,{key:e.id,user:e})}))),r.a.createElement(fe.a,null),r.a.createElement("h3",null,"Uusimmat k\xe4ytt\xe4j\xe4t"),r.a.createElement(H.a.Group,null,t.slice(0,3).map(function(e){return r.a.createElement(ge,{key:e.id,user:e})})),r.a.createElement("h3",null,"Eniten reseptej\xe4 lis\xe4nneet k\xe4ytt\xe4j\xe4t"),r.a.createElement(H.a.Group,null,function(){var e=Object(U.a)(t);return e.sort(function(e,t){return e.recipes.length<t.recipes.length?1:e.recipes.length>t.recipes.length?-1:0}),e.slice(0,3)}().map(function(e){return r.a.createElement(ge,{key:e.id,user:e})})))))}),he=n(482),ke=n(478),be=Object(u.b)(null,{createUser:function(e){return function(){var t=Object(v.a)(g.a.mark(function t(n){var a;return g.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ne.create(e);case 2:a=t.sent,n({type:"ADD_USER",data:a});case 4:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},notify:M})(Object(m.e)(function(e){var t=Object(a.useState)({username:"",password:"",passwordConfirm:""}),n=Object(k.a)(t,2),i=n[0],l=n[1],c=Object(a.useState)({}),u=Object(k.a)(c,2),o=u[0],s=u[1],m=Object(a.useState)(!1),p=Object(k.a)(m,2),E=p[0],b=p[1],y=function(){var e={};i.username?i.username.length<3||i.username.length>20?e.username="K\xe4ytt\xe4j\xe4tunnuksen tulee olla 3-20 merkki\xe4 pitk\xe4":RegExp("^[a-zA-Z0-9_]*$").test(i.username)||(e.username="Kaikki k\xe4ytt\xe4j\xe4tunnuksen merkit eiv\xe4t ole sallittuja"):e.username="Valitse k\xe4ytt\xe4j\xe4tunnus",i.password?i.password.length<10?e.password="Salasanan tulee olla v\xe4hint\xe4\xe4n 10 merkki\xe4 pitk\xe4":RegExp("^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[.,:;-_])").test(i.password)||(e.password="Salasanassa ei ole kaikkia vaadittuja merkkej\xe4"):(e.password="Valitse salasana",e.passwordConfirm="Valitse salasana"),i.passwordConfirm!==i.password&&(e.passwordConfirm="Salasanat eiv\xe4t ole samat");var t=!0;return s(e),Object.values(e).forEach(function(e){if(e)return b(!0),t=!1}),t},O=function(){var t=Object(v.a)(g.a.mark(function t(n){return g.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),!y()){t.next=13;break}return t.prev=2,t.next=5,e.createUser({username:i.username,password:i.password});case 5:l({username:"",password:"",passwordConfirm:""}),e.history.push("/"),e.notify("Rekister\xf6ityminen onnistui! Voit nyt kirjautua sis\xe4\xe4n k\xe4ytt\xe4j\xe4tunnuksellasi.","success"),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(2),t.t0.response&&"USERNAME_DUPLICATE"===t.t0.response.data.error.type?s({usernameDuplicate:"K\xe4ytt\xe4j\xe4tunnus on jo varattu"}):e.notify("Virhe k\xe4ytt\xe4j\xe4n luonnissa! Uutta k\xe4ytt\xe4j\xe4tunnusta ei luotu.","error");case 13:case"end":return t.stop()}},t,null,[[2,10]])}));return function(e){return t.apply(this,arguments)}}(),x=function(e){var t=e.target;l(Object(h.a)({},i,Object(f.a)({},t.name,t.value))),s(Object(h.a)({},o,Object(f.a)({},t.name,null)))},R=function(e){return o[e]?r.a.createElement("div",{style:{float:"right"}},r.a.createElement(j.a,{color:"yellow",name:"exclamation triangle"}),o[e]):null};return r.a.createElement(d.a,{padded:!0},r.a.createElement(d.a.Row,{centered:!0,columns:1},r.a.createElement("h2",null,"Rekister\xf6idy"),r.a.createElement(d.a.Column,{width:8},r.a.createElement(w.a,{onSubmit:O},r.a.createElement(w.a.Field,{error:(o.username||o.usernameDuplicate)&&!0},r.a.createElement("label",null,"K\xe4ytt\xe4j\xe4tunnus ",R("username"),R("usernameDuplicate")),r.a.createElement("input",{placeholder:"Kirjoita k\xe4ytt\xe4j\xe4tunnus",name:"username",value:i.username,onChange:x})),r.a.createElement(w.a.Field,{error:o.password&&!0},r.a.createElement("label",null,"Salasana ",R("password")),r.a.createElement("input",{placeholder:"Kirjoita salasana",type:"password",name:"password",value:i.password,onChange:x})),r.a.createElement(w.a.Field,{error:o.passwordConfirm&&!0},r.a.createElement("label",null,"Vahvista salasana ",R("passwordConfirm")),r.a.createElement("input",{placeholder:"Kirjoita salasana uudelleen",type:"password",name:"passwordConfirm",value:i.passwordConfirm,onChange:x})),r.a.createElement("div",{style:{textAlign:"center",paddingTop:"20px",paddingBottom:"20px"}},r.a.createElement(C.a,{positive:!0},"Luo k\xe4ytt\xe4j\xe4tunnus"))),r.a.createElement(he.a,null,r.a.createElement(he.a.Title,{active:E,onClick:function(){return b(!E)}},r.a.createElement(j.a,{name:"question circle"}),"Miten t\xe4yt\xe4n lomakkeen? ",r.a.createElement(j.a,{name:"dropdown"})),r.a.createElement(he.a.Content,{active:E},r.a.createElement(ke.a,null,r.a.createElement(ke.a.Item,null,r.a.createElement(ke.a.Header,null,"K\xe4ytt\xe4j\xe4tunnus"),"K\xe4ytt\xe4j\xe4tunnuksen tulee olla 3-20 merkki\xe4 pitk\xe4 ja se voi koostua kirjaimista, numeroista ja alaviivasta ( _ ). Lis\xe4ksi sen tulee olla uniikki, joten et voi valita k\xe4ytt\xe4j\xe4tunnusta, joka on jo k\xe4yt\xf6ss\xe4."),r.a.createElement(ke.a.Item,null,r.a.createElement(ke.a.Header,null,"Salasana"),"Salasanan tulee olla v\xe4hint\xe4\xe4n 10 merkki\xe4 pitk\xe4. Siin\xe4 tulee olla v\xe4hint\xe4\xe4n yksi merkki jokaisesta seuraavasta joukosta:",r.a.createElement("ul",null,r.a.createElement("li",null,"pieni kirjain (a-z)"),r.a.createElement("li",null,"iso kirjain (A-Z)"),r.a.createElement("li",null,"numero (0-9)"),r.a.createElement("li",null,"erikoismerkki (, . - _ : ;)")))))))))})),ye=n(486),je=Object(u.b)(function(e){return{loggedUser:e.loggedUser}})(function(e){var t=e.loggedUser,n=e.user,a=e.selectedTab;if(!n)return null;var i=t&&t.id===n.id,l=function(e){return r.a.createElement(d.a,{padded:!0,columns:4},e.map(function(e){return r.a.createElement(ue,{key:e.id,recipe:e})}))},c={minHeight:"200px",marginBottom:"20px"},u=r.a.createElement(ye.a.Pane,{style:c},0===n.recipes.length?"Ei lis\xe4ttyj\xe4 reseptej\xe4":l(n.recipes)),o=r.a.createElement(ye.a.Pane,{style:c},0===n.favoriteRecipes.length?"Ei suosikkireseptej\xe4":l(n.favoriteRecipes)),s=i?[{menuItem:{key:"all",icon:"book",content:"Omat reseptit"},render:function(){return u}},{menuItem:{key:"favorites",icon:"star",content:"Suosikit"},render:function(){return o}}]:[{menuItem:{key:"all",icon:"book",content:"K\xe4ytt\xe4j\xe4n reseptit"},render:function(){return u}}];return r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",null,n.username),r.a.createElement(ye.a,{panes:s,defaultActiveIndex:a&&Number(a.tab)||0}))});var we=Object(u.b)(function(e){return{recipes:e.recipes,loggedUser:e.loggedUser,users:e.users}},{initializeRecipes:function(){return function(){var e=Object(v.a)(g.a.mark(function e(t){var n;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D.getAll();case 2:n=e.sent,t({type:"INIT_RECIPES",data:n});case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},initializeUsers:function(){return function(){var e=Object(v.a)(g.a.mark(function e(t){var n;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ne.getAll();case 2:n=e.sent,t({type:"INITIALIZE_USERS",data:n});case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},setInitialLoggedUser:function(e){return function(t){D.setToken(e.token),ne.setToken(e.token),t({type:"INIT_LOGGED_USER",user:{id:e.id,username:e.username}})}}})(function(e){var t=e.initializeRecipes,n=e.initializeUsers,i=e.setInitialLoggedUser;Object(a.useEffect)(function(){t(),n()},[t,n]),Object(a.useEffect)(function(){var e=window.localStorage.getItem("loggedCookbookUser");if(e){var t=JSON.parse(e);i(t)}},[i]);var l=function(t){return e.recipes.find(function(e){return e.id===t})};return r.a.createElement(p.a,null,r.a.createElement(s.a,null,r.a.createElement("h1",null,"Cookbook"),r.a.createElement(de,null),r.a.createElement(Ee,null),r.a.createElement(ce,null),r.a.createElement(m.b,{exact:!0,path:"/",render:function(){return r.a.createElement(oe,null)}}),r.a.createElement(m.b,{exact:!0,path:"/recipes",render:function(){return r.a.createElement(W,null)}}),r.a.createElement(m.b,{exact:!0,path:"/recipes/create",render:function(){return e.loggedUser?r.a.createElement(F,null):r.a.createElement(m.a,{to:"/"})}}),r.a.createElement(m.b,{exact:!0,path:"/recipes/:id",render:function(e){var t=e.match;return r.a.createElement(ie,{recipe:l(t.params.id)})}}),r.a.createElement(m.b,{exact:!0,path:"/recipes/:id/update",render:function(e){var t=e.match;return r.a.createElement(z,{recipe:l(t.params.id)})}}),r.a.createElement(m.b,{exact:!0,path:"/users",render:function(){return r.a.createElement(ve,null)}}),r.a.createElement(m.b,{exact:!0,path:"/users/:id",render:function(t){var n,a=t.match,i=t.location;return r.a.createElement(je,{user:(n=a.params.id,e.users.find(function(e){return e.id===n})),selectedTab:i.state})}}),r.a.createElement(m.b,{exact:!0,path:"/signup",render:function(){return e.loggedUser?r.a.createElement(m.a,{to:"/"}):r.a.createElement(be,null)}})))}),Oe=Object(c.c)({recipes:N,notification:K,loginModal:Y,loggedUser:pe,users:ae}),xe=Object(c.d)(Oe,Object(c.a)(o.a));l.a.render(r.a.createElement(u.a,{store:xe},r.a.createElement(we,null)),document.getElementById("root"))},75:function(e,t,n){e.exports=n.p+"static/media/default_picture.be56aade.jpg"}},[[267,1,2]]]);
//# sourceMappingURL=main.20883259.chunk.js.map